@{
    ViewBag.Title = "First Sign Up, E-TradeBook - Online Business Network";
    ITechETradeBook_v2.Models.etradebook_Entities db = new ITechETradeBook_v2.Models.etradebook_Entities();
}
@model ITechETradeBook_v2.Models.DBImport

<input type="hidden" id="FProfilesuccess" value="@TempData["FProfilesuccess"]" />
<input type="hidden" id="FProfilewarning" value="@TempData["FProfilewarning"]" />

<section>
    <div class="block color-scheme-3">
        <div class="container">
            <div class="alert alert-success" id="updateProfileAlert" style="display: none;">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            </div>
            <div class="header-1">
                <h1>SignUp Required</h1>
                <div class="header-bottom-line"></div>
                <h3>Update your profile</h3>
            </div>
            <div class="row">
                <div class="col-md-1"></div>
                <div class="col-md-10">
                    <div class="row">
                        <article class="block-form col-xs-12 col-sm-6 col-md-6 col-lg-12">
                            <div class="block-form box-border">
                                <form class="form-horizontal" method="post" action="~/Account/FProfile" id="frmUpdateProfile" enctype="multipart/form-data">
                                    <div class="form-group">
                                        <label for="inputBUName" class="col-sm-3 control-label">Business/trade name:<span class="text-error">*</span></label>
                                        <div class="col-sm-9">
                                            <input type="text" name="BusinessName" class="form-control" id="inputBUName" data-bvalidator="required" value="@if (Model != null)
                                                                                                                                                           { @Html.Raw(Model.CompanyName);
                                                                                                                                                           }">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="inputContactName" class="col-sm-3 control-label">Contact name:<span class="text-error">*</span></label>
                                        <div class="col-sm-9">
                                            <input type="text" name="ContactName" class="form-control" id="inputContactName" value="@if (Model != null)
                                                                                                                                    {@Html.Raw(Model.FirstName);
                                                                                                                                        @Html.Raw(" ");
                                                                                                                                        @Html.Raw(Model.LastName);
                                                                                                                                    }" data-bvalidator="required" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="txtContactNumber" class="col-sm-3 control-label">Contact Number:<span class="text-error">*</span></label>
                                        <div class="col-sm-9">
                                            <input type="text" name="ContactNumber" id="txtContactNumber" class="form-control" value="@if (Model != null)
                                                                                                                                      { @Model.O_Phone;
                                                                                                                                      }" data-bvalidator="required" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Logo Photo:</label>
                                        <div style="float: left;" class="col-sm-9">
                                            <input type="file" name="uploadLogo" id="uploadLogo" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Cover Photo:</label>
                                        <div style="float: left;" class="col-sm-9">
                                            <input type="file" name="uploadCover" id="uploadCover" />
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Business area: <span class="text-error">*</span></label>
                                        <div class="col-sm-9">
                                            <select name="BusinessAreaId" class="form-control" id="ddlBusinessAreaID" data-bvalidator="required">
                                                <option value="" selected="selected">Nothing Selected</option>
                                                @{
                                                    var buAreas = (from cate in db.Categories
                                                                   join cateCul in db.CategoryCultures on cate.Id equals cateCul.CategoryId
                                                                   where cateCul.LanguageId == 1 && cate.IsActive == true && cate.ParentId == null
                                                                   select new
                                                                   {
                                                                       Text = cateCul.Name,
                                                                       Value = cateCul.CategoryId
                                                                   }).ToList();

                                                    if (buAreas.Count > 0)
                                                    {
                                                        foreach (var item in buAreas)
                                                        {
                                                            if (@Model != null)
                                                            {
                                                                if (item.Value == Model.CategoryId)
                                                                {
                                                                    <option value="@item.Value" onchange="ChooseType(@item.Value);" selected="selected">@item.Text</option>
                                                                }
                                                                else
                                                                {
                                                                    <option onchange="ChooseType(@item.Value);" value="@item.Value">@item.Text</option>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <option onchange="ChooseType(@item.Value);" value="@item.Value">@item.Text</option>
                                                            }
                                                        }
                                                    }
}
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Product/Service: <span class="text-error">*</span></label>
                                        <div class="col-sm-9">
                                            <select name="ProductService" id="ddlProductService" class="form-control" data-live-search="true" data-bvalidator="required"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Country: <span class="text-error">*</span></label>
                                        <div class="col-sm-9">
                                            <select name="LocationId" id="ddlLocationId" class="form-control" data-bvalidator="required">
                                                <option value="">Nothing Selected</option>
                                                @{
                                                    var listCountry = (from c in db.Countries
                                                                       where c.IsActive == true
                                                                       select new
                                                                       {
                                                                           c.Id,
                                                                           c.Name,
                                                                       }).OrderBy(o => o.Name).ToList();

                                                    foreach (var item in listCountry)
                                                    {
                                                        if (Model != null)
                                                        {
                                                            if (item.Id == Model.LocationId)
                                                            {
                                                                <option value="@item.Id" selected="selected">@item.Name</option>
                                                            }
                                                            else
                                                            {
                                                                <option value="@item.Id">@item.Name</option>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <option value="@item.Id">@item.Name</option>
                                                        }
                                                    }
                                                }
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">State/Province:<span class="text-error">*</span></label>
                                        <div class="col-sm-9">
                                            <select name="ProvinceId" class="form-control" data-live-search="true" id="ddlProvinceId" data-bvalidator="required"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">City/Suburb:</label>
                                        <div class="col-sm-9">
                                            <select name="DistrictId" class="form-control" data-live-search="true" id="ddlDistrictId"></select>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="txtPostalAddress" class="col-sm-3 control-label">Postal Address:</label>
                                        <div class="col-sm-9">
                                            <input type="text" name="PostalAddress" id="txtPostalAddress" class="form-control" value="@if (Model != null)
                                                                                                                                      { @Html.Raw(Model.Address);
                                                                                                                                      }" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="txtJobTitle" class="col-sm-3 control-label">Job title or Position:</label>
                                        <div class="col-sm-9">
                                            <input type="text" name="JobTitle" id="txtJobTitle" class="form-control"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="txtDepartment" class="col-sm-3 control-label">Department:</label>
                                        <div class="col-sm-9">
                                            <input type="text" name="Department" id="txtDepartment" class="form-control"/>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="txtWebAddress" class="col-sm-3 control-label">Website address:</label>
                                        <div class="col-sm-9">
                                            <input type="text" name="WebsiteAddress" id="txtWebAddress" class="form-control" value="@if (Model != null)
                                                                                                                                    { @Model.Website;
                                                                                                                                    }" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="txtTelephone" class="col-sm-3 control-label">Tel:</label>
                                        <div class="col-sm-9">
                                            <input type="text" name="Tel" id="txtTelephone" value="@if (Model != null) { @Model.M_Phone; }" class="form-control" />
                                        </div>
                                    </div>

                                    <h3>Free Product/Service on Virtual Market</h3>
                                    <hr />
                                    <p><i>You should upload 4 photos and fill all data in below form because these information will be displayed on the Virtual Market where people can see your products.</i></p>
                                    <p><i>Other things, You should upload all photos because after this step you cannot upload anymore for this product without Gold Member of E-TradeBook.</i></p>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Main Photo:</label>
                                        <div style="float: left;" class="col-sm-9">
                                            <input type="file" name="uploadProductServicePhoto" id="uploadProductServicePhoto" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Photo 1:</label>
                                        <div style="float: left;" class="col-sm-9">
                                            <input type="file" name="uploadProductServicePhoto1" id="uploadProductServicePhoto1" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Photo 2:</label>
                                        <div style="float: left;" class="col-sm-9">
                                            <input type="file" name="uploadProductServicePhoto2" id="uploadProductServicePhoto2" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label">Photo 3:</label>
                                        <div style="float: left;" class="col-sm-9">
                                            <input type="file" name="uploadProductServicePhoto3" id="uploadProductServicePhoto3" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="inputCompany">Product or Brand name:</label>
                                        <div class="col-sm-9">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <input type="text" id="txtProductName" name="ProductName" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="inputPrice">Currency:</label>
                                        <div class="col-sm-9">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <select class="form-control" name="CurrencyId">
                                                        @{
                                                            var currency = (from c in db.Currencies select c).ToList();
                                                            foreach (var item in currency)
                                                            {
                                                                <option value="@item.Id">@item.Code</option>
                                                            }
                                                        }
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="inputPrice">Price:</label>
                                        <div class="col-sm-9">
                                            <div class="row">
                                                <div class="col-sm-6">
                                                    <input type="text" name="Price" id="inputPrice" class="form-control" value="0.00">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-sm-3 control-label" for="inputCompany">Description:</label>
                                        <div class="col-sm-9">
                                            <div class="row">
                                                <div class="col-sm-12">
                                                    <textarea placeholder="Description" name="Description" id="product_description" class="ckeditor" rows="13"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="col-sm-offset-3 col-sm-9">
                                            <input type="submit" id="btnUpdateProfile" class="btn-default-1 pull-right" value="Update Profile">
                                        </div>
                                    </div>

                                </form>
                            </div>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


@section Scripts{
    <script>
        function ChooseType(id) {
            alert(id);
        }
    </script>    
}